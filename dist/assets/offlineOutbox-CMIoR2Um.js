import{R as t}from"./vendor-firebase-RMoShlIt.js";const a="outbox";async function n(){return t("mazin-offline",1,{upgrade(t){t.objectStoreNames.contains(a)||t.createObjectStore(a,{keyPath:"id",autoIncrement:!0})}})}async function o(t,o){const e=await n(),c={kind:t,payload:o,createdAt:Date.now()};return await e.add(a,c)}async function e(){const t=await n();return await t.getAll(a)}async function c(t){return(await n()).delete(a,t)}async function i(t){const a=await e();for(const o of a){const a=t[o.kind];if(a)try{await a(o.payload)&&"number"==typeof o.id&&await c(o.id)}catch(n){}}}async function r(){const t=await n();return await t.count(a)}export{o as addOutboxItem,e as getOutboxItems,r as outboxCount,i as processOutbox,c as removeOutboxItem};
